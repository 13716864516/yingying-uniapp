{"version":3,"sources":["uni-app:///main.js","webpack:///D:/工作区/开源/教育uniapp/wanyue_education_uniapp/packageB/pages/live-info/live-infoplay.vue?99c9","webpack:///D:/工作区/开源/教育uniapp/wanyue_education_uniapp/packageB/pages/live-info/live-infoplay.vue?82bd","webpack:///D:/工作区/开源/教育uniapp/wanyue_education_uniapp/packageB/pages/live-info/live-infoplay.vue?cf60","webpack:///D:/工作区/开源/教育uniapp/wanyue_education_uniapp/packageB/pages/live-info/live-infoplay.vue?3404","uni-app:///packageB/pages/live-info/live-infoplay.vue","webpack:///D:/工作区/开源/教育uniapp/wanyue_education_uniapp/packageB/pages/live-info/live-infoplay.vue?d7b9","webpack:///D:/工作区/开源/教育uniapp/wanyue_education_uniapp/packageB/pages/live-info/live-infoplay.vue?25dd"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,yH,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACa;;;AAGzE;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,sKAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAkrB,CAAgB,usBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsUtsB;;;AAGA;AACA;;;;;AAKA,8H;;;AAGA;AACA;AACA;AACA,kB;AACA;AACA;AACA,wBADA;AAEA,gBAFA;AAGA,sBAHA,EADA;;AAMA,MANA,kBAMA;AACA;AACA,oBADA;AAEA,sBAFA;AAGA,+BAHA;AAIA,wCAJA;AAKA,+CALA;AAMA,sBANA,EAMA;AACA,wBAPA,EAOA;AACA,yBARA;AASA,kBATA,EASA;AACA,mBAVA,EAUA;AACA,eAXA,EAWA;AACA,8BAZA;AAaA,4BAbA;AAcA,wBAdA;AAeA,kDAfA;AAgBA,oBAhBA;AAiBA,yBAjBA;AAkBA,gBAlBA;AAmBA,uBAnBA;AAoBA,iBApBA;AAqBA;AACA,mBADA;AAEA;AACA,mBADA,EAFA;AAIA;AACA,mBADA,EAJA,CArBA;;AA4BA,oBA5BA;AA6BA,kBA7BA;AA8BA,cA9BA;AA+BA,4BA/BA,EA+BA;AACA;AACA,qBADA;AAEA,sBAFA;AAGA,sBAHA,EAhCA;;AAqCA,kBArCA;AAsCA,kBAtCA;AAuCA;AACA,oBAxCA;AAyCA,wBAzCA;AA0CA,kBA1CA;AA2CA,kBA3CA;AA4CA,uBA5CA;AA6CA,iBA7CA;AA8CA,6BA9CA;AA+CA,cA/CA;AAgDA,iBAhDA;AAiDA,gBAjDA;AAkDA,kBAlDA;AAmDA,0BAnDA;AAoDA,eApDA;AAqDA,kBArDA;AAsDA,cAtDA;AAuDA,cAvDA;AAwDA,eAxDA;AAyDA,kBAzDA;AA0DA,oBA1DA;AA2DA,sBA3DA;AA4DA,qBA5DA;AA6DA,eA7DA;AA8DA,eA9DA;AA+DA,aA/DA;AAgEA,cAhEA;AAiEA,kBAjEA;AAkEA,iBAlEA;AAmEA,sBAnEA;AAoEA,2BApEA;AAqEA,4BArEA;AAsEA,mBAtEA;AAuEA,sBAvEA;AAwEA,oBAxEA;AAyEA,0BAzEA;AA0EA,mBA1EA;AA2EA,6BA3EA;AA4EA,wBA5EA;AA6EA,gCA7EA;AA8EA,kCA9EA;AA+EA,8BA/EA;AAgFA,gCAhFA;AAiFA,yBAjFA;AAkFA,yBAlFA;AAmFA,oBAnFA;AAoFA,iBApFA;AAqFA,qBArFA;AAsFA,oBAtFA;AAuFA,mBAvFA;AAwFA,sBAxFA;AAyFA,mBAzFA;AA0FA,iBA1FA;AA2FA,iBA3FA;AA4FA,mBA5FA;AA6FA,YA7FA;AA8FA,kBA9FA;AA+FA,yBA/FA;AAgGA,2BAhGA;AAiGA,4BAjGA;AAkGA,yBAlGA;AAmGA,iBAnGA;AAoGA,qBApGA,EAoGA;AACA,sBArGA,EAqGA;AACA,mBAtGA,EAsGA;AACA,sBAvGA,CAuGA;AAvGA;AAyGA,GAhHA;AAiHA,QAjHA,oBAiHA;AACA;AACA,qBADA;AAEA;AACA;AACA,OAJA;;AAMA,GAxHA;AAyHA,SAzHA,qBAyHA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OApBA;;AAsBA;AACA;AACA,GApJA;AAqJA,UArJA,sBAqJA;;;;;;AAMA;AACA;AACA;AACA,GA9JA;AA+JA,QA/JA,kBA+JA,MA/JA,EA+JA;;AAEA;AACA;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAhBA;AAiBA;AACA;AACA;AACA;AACA,KAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KATA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAPA;AAQA;AACA;AACA;AACA,KAFA;AAGA;AACA;AACA;AACA;AACA,KAHA;AAIA,GArPA;AAsPA;AACA;AACA,kBAFA,0BAEA,IAFA,EAEA;AACA;AACA;AACA,KALA;AAMA;AACA,cAPA,sBAOA,CAPA,EAOA;AACA;AACA;AACA;AACA;AACA;AACA,KAbA;AAcA;AACA,aAfA,qBAeA,CAfA,EAeA;AACA,6CADA,CACA;AACA;AACA,KAlBA;AAmBA;AACA,gBApBA,0BAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,0BAFA;AAGA,iBAHA;;AAKA;AACA;;AAEA,KAlCA;AAmCA,iBAnCA,2BAmCA;AACA;AACA,kEADA;AAEA,sBAFA;AAGA;AACA,gDADA;AAEA,qDAFA,EAHA;;AAOA;AACA;AACA;AACA;;AAEA;AACA,SAbA;;AAeA,KAnDA;AAoDA,WApDA,qBAoDA;AACA;AACA,KAtDA;AAuDA,aAvDA,uBAuDA;AACA;AACA;AACA,8BADA;AAEA,sBAFA;AAGA,gBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,qBAFA;AAGA;AACA,0CAVA,CAUA;AACA;AACA;AACA,wBADA;AAEA,qBAFA;;AAIA;AACA,OAjBA,EAiBA,IAjBA;AAkBA,KAjFA;AAkFA;AACA,cAnFA,sBAmFA,CAnFA,EAmFA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;;AAGA,KA3GA;AA4GA;AACA,cA7GA,wBA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KAtHA;AAuHA;AACA,aAxHA,qBAwHA,CAxHA,EAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9IA;AA+IA;AACA,YAhJA,sBAgJA;AACA;AACA;AACA,8BAHA,CAGA;AACA;AACA;AACA;AACA,KAvJA;AAwJA;AACA,eAzJA,uBAyJA,CAzJA,EAyJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjKA;AAkKA;AACA,kBAnKA;;;AAsKA,2BAFA,YAEA,QAFA,YAEA,CADA,QACA,QADA,QACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAdA,EAcA;AACA;AACA;AACA,OAjBA,EAiBA;AACA,qBADA;AAEA,iDAFA;AAGA,iBAHA;AAIA,gCAJA,EAjBA;;AAuBA,KAzNA;AA0NA,cA1NA,sBA0NA,KA1NA,EA0NA;AACA;AACA;AACA,KA7NA;AA8NA,gBA9NA,0BA8NA;AACA;AACA,KAhOA;AAiOA,WAjOA,qBAiOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzOA;AA0OA,kBA1OA,4BA0OA;AACA;AACA,yBADA;AAEA,mBAFA;AAGA,wBAHA;AAIA,wBAJA;AAKA,yBALA;AAMA,+BANA;AAOA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA,wBADA;;AAGA,aALA,EAKA,CALA;AAMA;AACA,SAvBA;AAwBA,gCAxBA;AAyBA,wCAzBA;;AA2BA,KAtQA;AAuQA,cAvQA,sBAuQA,GAvQA,EAuQA,KAvQA,EAuQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,EAGA,GAHA;AAIA;AACA;AACA;AACA,WAHA,EAGA,GAHA;AAIA,SAZA,EAYA,GAZA;AAaA;AACA;AACA;AACA;AACA;AACA,KAjTA;AAkTA,iBAlTA,2BAkTA;AACA;AACA,iBADA;AAEA,4CAFA;AAGA,qBAHA;;AAKA;AACA,6BADA,EACA;AACA,sCAFA,EAEA;AACA,6CAHA;AAIA,mGAJA,EAIA;AACA,kCALA;;AAOA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA,8BADA;AAEA,mCAFA;AAGA,6BAHA;AAIA,0BAJA;AAKA,6BALA;AAMA,mCANA;AAOA;AACA;AACA;AACA;AACA,aAXA;AAYA,oCAZA;AAaA,4CAbA;;AAeA;AACA;AACA,sCApBA,CAoBA;AACA,OArBA;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AAQA,aAjBA,MAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AAQA,aAnBA,MAmBA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA,8BAFA;;AAIA;AACA;AACA,4BADA;;AAGA,iBAJA,EAIA,GAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA;AAEA,4BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2GADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,sCAFA;;AAIA;AACA;AACA;AACA,aARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAZA,MAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OA7KA;AA8KA,KAvgBA;AAwgBA,eAxgBA,uBAwgBA,KAxgBA,EAwgBA;AACA;AACA;AACA;AACA,KA5gBA;AA6gBA,aA7gBA,qBA6gBA,IA7gBA,EA6gBA;AACA;AACA,KA/gBA;AAghBA,WAhhBA,qBAghBA;AACA;AACA;AACA,4CADA;AAEA,sBAFA;AAGA;AACA,kCADA;AAEA,uCAFA;AAGA,0CAHA;AAIA,4CAJA;AAKA,4CALA;AAMA,sBANA;AAOA,qBAPA,EAHA;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yGADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAlCA;;AAoCA,KAtjBA;AAujBA,aAvjBA,qBAujBA,KAvjBA,EAujBA;AACA;AACA,sCAFA;AAGA,+BAHA;AAIA,KA3jBA;AA4jBA,eA5jBA,uBA4jBA,CA5jBA,EA4jBA;AACA;AACA;AACA,KA/jBA;AAgkBA,UAhkBA,kBAgkBA,IAhkBA,EAgkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjlBA;AAklBA,eAllBA,uBAklBA,UAllBA,EAklBA,WAllBA,EAklBA,GAllBA,EAklBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,EAGA;AACA;AACA;AACA,SANA;AAOA,OAVA;AAWA;AACA;AACA;AACA,OAdA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAVA,EAUA;AACA;AACA;AACA;AACA,SAdA;AAeA,OAhBA;AAiBA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA,OAFA,EAEA;AACA;AACA,OAJA;AAKA,KAnoBA;AAooBA,WApoBA,mBAooBA,UApoBA,EAooBA,WApoBA,EAooBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,KA9qBA;AA+qBA;AACA,YAhrBA,oBAgrBA,OAhrBA,EAgrBA,QAhrBA,EAgrBA,QAhrBA,EAgrBA;AACA;AACA;AACA;AACA;AACA,0CADA;AAEA,sBAFA;AAGA;AACA,4BADA;AAEA,8BAFA;AAGA,8BAHA;AAIA,uCAJA;AAKA,kCALA,EAHA;;AAUA;AACA;AACA;AACA,+CADA;AAEA,+CAFA;AAGA,sCAHA;AAIA,8CAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA,eAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA,eAXA,MAWA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA,iDADA;AAEA,yDAFA;AAGA,8CAHA;;AAKA,mBANA;AAOA,iBARA,EAQA,CARA;AASA,eAVA,MAUA;AACA;AACA;AACA;AACA,+FADA;;AAGA,mBAJA;AAKA,iBANA,EAMA,CANA;AAOA,eARA,MAQA;AACA;AACA,eAFA,MAEA;AACA;AACA;AACA;AACA,WA3GA,MA2GA;AACA;AACA,sCADA;AAEA,0BAFA;;AAIA;AACA,SArIA;;AAuIA,KA3zBA;AA4zBA,aA5zBA,uBA4zBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAv0BA;AAw0BA,eAx0BA,yBAw0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA,KAp1BA;AAq1BA;AACA,iBAt1BA,yBAs1BA,IAt1BA,EAs1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA71BA;AA81BA,QA91BA,gBA81BA,KA91BA,EA81BA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,wCAFA;AAGA,0CAHA;AAIA,0CAJA;AAKA,qDALA;AAMA,+BANA;AAOA,6BAPA;AAQA,uCARA;;AAUA;AACA;AACA;AACA,4CADA;AAEA,sBAFA;AAGA;AACA,sBADA;AAEA,iCAFA;AAGA,sCAHA;AAIA,iCAJA;AAKA,qCALA;AAMA,0BANA;AAOA,yCAPA;AAQA,0CARA;AASA,4CATA;AAUA,4CAVA;AAWA,uDAXA;AAYA,+BAZA,EAHA;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;AAEA,sDAFA;AAGA,6BAHA;AAIA,+CAJA;AAKA,0CALA;AAMA,+DANA;AAOA,iDAPA;AAQA,mDARA;AASA,0CATA;AAUA,wCAVA;AAWA,8CAXA;AAYA,kCAZA;AAaA,iFAbA;AAcA,4BAdA;AAeA,gCAfA;AAgBA,gEAhBA;AAiBA,kDAjBA;AAkBA,qDAlBA,GADA;;AAqBA,iCArBA;AAsBA,4BAtBA;;AAwBA;AACA;AACA;AACA;AACA,WA9BA,MA8BA;AACA;AACA,sCADA;AAEA,0BAFA;;AAIA;AACA,SAvDA;AAwDA;AACA;AACA,wBADA;AAEA,yBAFA;;AAIA,SA7DA;;AA+DA,KA/7BA;AAg8BA,YAh8BA,oBAg8BA,KAh8BA,EAg8BA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAt8BA;AAu8BA,YAv8BA,oBAu8BA,IAv8BA,EAu8BA;AACA;AACA;AACA;AACA,4CADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAr9BA;AAs9BA,WAt9BA,mBAs9BA,GAt9BA,EAs9BA;AACA;AACA;AACA;AACA,sBAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAl+BA;AAm+BA,gBAn+BA,0BAm+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,GAHA;AAIA,KAh/BA,EAtPA,E;;;;;;;;;;;;;ACtVA;AAAA;AAAA;AAAA;AAAk+B,CAAgB,49BAAG,EAAC,C;;;;;;;;;;;ACAt/B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"packageB/pages/live-info/live-infoplay.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './packageB/pages/live-info/live-infoplay.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./live-infoplay.vue?vue&type=template&id=041918b3&\"\nvar renderjs\nimport script from \"./live-infoplay.vue?vue&type=script&lang=js&\"\nexport * from \"./live-infoplay.vue?vue&type=script&lang=js&\"\nimport style0 from \"./live-infoplay.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"packageB/pages/live-info/live-infoplay.vue\"\nexport default component.exports","export * from \"-!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./live-infoplay.vue?vue&type=template&id=041918b3&\"","var components\ntry {\n  components = {\n    imtAudio: function() {\n      return import(\n        /* webpackChunkName: \"components/imt-audio/imt-audio\" */ \"@/components/imt-audio/imt-audio.vue\"\n      )\n    },\n    emojy: function() {\n      return import(\n        /* webpackChunkName: \"components/emojy/emojy\" */ \"@/components/emojy/emojy.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./live-infoplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./live-infoplay.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- #ifndef H5 -->\r\n\t\t<uni-nav-bar @clickLeft=\"backCourseList\" left-icon=\"back\" :border=\"false\" title=\"直播详情\" onlive>\r\n\t\t</uni-nav-bar>\r\n\t\t<!-- #endif -->\t\r\n\t\t\r\n\t\t<view class=\"live-all-wrap\">\r\n\t\t\t<template v-if=\"showsmallvideo == true\">\r\n\t\t\t\t<view class=\"small-video\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<view class=\"video-small-wrap\">\r\n\t\t\t\t\t\t<live-player class=\"video-small-wrap\" autoplay=\"true\" id=\"player\" src=\"wechatliveurl_small\" mode=\"RTC\"\r\n\t\t\t\t\t\t bindstatechange=\"playerStateChange\" object-fit=\"contain\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t\t\t<view id=\"remoteContainer\" ref=\"remotecontainer\">\r\n\t\t\t\t\t\t<view id=\"subremoteContainer\" class=\"video-small-wrap\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<view class=\"video-small-text\">视频直播中</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t<template v-if=\"showShareScreen == true\">\r\n\t\t\t\t<view class=\"video-share-wrap\">\r\n\t\t\t\t\t<view id=\"remoteContainer\" ref=\"remotecontainer\">\r\n\t\t\t\t\t\t<view id=\"subremoteContainer\" class=\"video-share-wrap\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<template v-if=\"livetype == 5 || livetype == 8\">\r\n\t\t\t\t<view class=\"video-wrap\" v-if=\"showShareScreen == false\">\r\n\t\t\t\t\t<template v-if=\"phonetype == 1\">\r\n\t\t\t\t\t\t<TestText ref=\"videoAdnroid\" tel=\"xxxxxx\" class=\"video-wrap\"></TestText>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else-if=\"phonetype == 2\">\r\n\t\t\t\t\t\t<dc-TestComponent ref=\"videoIos\" appid=\"xxxxxx\" class=\"video-wrap\"></dc-TestComponent>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else-if=\"phonetype == 3\">\r\n\t\t\t\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t\t\t\t<view class=\"video-wrap\" v-if=\"showBigScreen == true\">\r\n\t\t\t\t\t\t\t<view id=\"remoteContainer\" ref=\"remotecontainer\">\r\n\t\t\t\t\t\t\t\t<view id=\"subremoteContainer\" class=\"video-wrap\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else-if=\"phonetype == 4\">\r\n\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t\t<template v-if=\"video_zhezhao == true\">\r\n\t\t\t\t\t\t\t<view class=\"video-wrap\">\r\n\t\t\t\t\t\t\t\t<live-player class=\"video-wrap-wechat\" autoplay=\"true\" id=\"player\" src=\"wechatliveurl\" mode=\"RTC\"\r\n\t\t\t\t\t\t\t\t bindstatechange=\"playerStateChange\" object-fit=\"contain\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t<view class=\"video-wrap\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<view class=\"nothing\" v-if=\"zhibo_leave == true\">\r\n\t\t\t\t\t\t<image v-if=\"show_nothing_image == true\" class=\"nothing_image_H\" src=\"../../static/zanshilikai.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t<view v-if=\"show_nothing_image == true\" class=\"zanshilikai_txt_H\">{{zhibo_leave_text}}</view>\r\n\t\t\t\t\t\t<view v-if=\"show_nothing_image == true\" class=\"zanshilikai_txt_H_H\">{{zhibo_leave_text_w}}</view>\r\n\t\t\t\t\t\t<view v-if=\"show_nothing_image2 == true\" class=\"zanshilikai_txt2_H\">直播已结束</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<template v-else-if=\"livetype == 2\">\r\n\t\t\t\t<view class=\"video-wrap\">\r\n\t\t\t\t\t<video show-mute-btn=\"true\" id=\"myVideo\" class=\"video-wrap\" :src=\"pull\" :poster=\"thumb\" controls=\"true\" autoplay=\"true\" :danmu-list=\"danmuList\" \r\n\t\t\t\t\tenable-danmu playbackRate @loadedmetadata=\"loadvideo\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!-- 倍速播放 h5支持较差 -->\r\n\t\t\t\t\t\t <cover-view class=\"video-control\">\r\n\t\t\t\t\t\t\t<cover-view class=\"multi rate\" @tap=\"showSwitchRate\">x {{ currentRate }}</cover-view>\r\n\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t\t<cover-view class=\"multi-list rate\" :class=\"{ active: rateShow }\">\r\n\t\t\t\t\t\t\t<cover-view\r\n\t\t\t\t\t\t\t\tv-for=\"(item, index) in ['0.5', '0.8', '1.0', '1.25', '1.5']\"\r\n\t\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t\tclass=\"multi-item rate\"\r\n\t\t\t\t\t\t\t\t:data-rate=\"item\"\r\n\t\t\t\t\t\t\t\t@tap=\"switchRate\"\r\n\t\t\t\t\t\t\t\t:class=\"{ active: item == currentRate }\">\r\n\t\t\t\t\t\t\t\t{{ item }}\r\n\t\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t\t</cover-view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</video>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<template v-else-if=\"livetype == 3 || livetype == 6\">\r\n\t\t\t\t<view class=\"video-wrap\">\r\n\t\t\t\t\t<image :src=\"thumb\" class=\"video-wrap36\" mode=\"aspectFill\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"shadow\">\r\n\t\t\t\t\t<imt-audio autoplay class=\"imtaudio\" :src=\"pull\"></imt-audio>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<template v-else-if=\"livetype == 4 || livetype == 1\">\r\n\t\t\t\t<template v-if=\"noppt == false\">\r\n\t\t\t\t\t<swiper class=\"video-wrap swiper-no-swiping\" :current=\"pptindex\">\r\n\t\t\t\t\t\t<swiper-item v-for=\"(item,index) in ppts\" :key=\"index\" class=\"video-wrap\" @touchmove.stop>\r\n\t\t\t\t\t\t\t<image @click=\"showBigView(index)\" :src=\"item.thumb\" mode=\"aspectFit\" class=\"pptimage\"></image>\r\n\t\t\t\t\t\t\t<view class=\"pptnum\">{{showppt_index +'/'+ppts.length}}</view>\r\n\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t</swiper>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<view class=\"video-wrap\">\r\n\t\t\t\t\t\t<view class=\"zanwu\">暂无内容</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t\t<template v-else>\r\n\t\t\t\t<view class=\"video-wrap\">\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t\t<view class=\"livestatus\">\r\n\t\t\t\t<view class=\"dian\" :style=\"'background-color :' + diancolor\"></view>\r\n\t\t\t\t<view class=\"islive\">{{islive}}</view>\r\n\t\t\t\t<view class=\"xian\"></view>\r\n\t\t\t\t<view class=\"Usercount\">{{Usercount + '人'}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"background-color: #FFFFFF; height: 45px;\" class=\"flex align-center justify-center font-weight-bold course-tab\">\r\n\t\t\t\t<view class=\"mx-5\" @click=\"changeXXK(index)\" v-for=\"(item, index) in tabBars\" :key=\"index\" :class=\"tabIndex === index ? 'text-main font-md' : 'font-md text-light-muted'\">\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<swiper class=\"swiper-box\" :current=\"tabIndex\" @change=\"onChangeTab\" :style=\"{height : scrollH + 'px'}\" style=\"width: 100%;background-color: #F4F5F6;\">\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<scroll-view id = \"scrollView\" :scroll-top=\"scrollTop\" :style=\"{height : scrollH - 65 + 'px'}\" class=\"scroll1\" scroll-y=\"true\"\r\n\t\t\t\t\t :scroll-into-view=\"scrollInto\" scroll-with-animation style=\"position: absolute;left:0; top: 0; \r\n\t\t\t        right: 0; bottom: 0;\">\r\n\t\t\t\t\t\t<view class=\"zhinanview\">\r\n\t\t\t\t\t\t\t<text class=\"zhinantext\">听课指南</text>\r\n\t\t\t\t\t\t\t<text class=\"intr\">{{intr}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<block v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view v-if=\"item.user_type == 1\" :id=\"'chat' + index\" class=\"messagebottom\">\r\n\t\t\t\t\t\t\t\t<image :src=\"item.avatar\" class=\"rounded\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"message\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"jiangshiview\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"user_nickname\">{{item.user_nickname}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"jiangshi\">讲师</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"message_row2\">\r\n\t\t\t\t\t\t\t\t\t\t<rich-text v-show=\"item.type == 0\" class=\"textmessage2\" :nodes=\"item.content\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '1'\" class=\"wen_text2\">问</text>\r\n\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '2'\" class=\"wen_text2\">答</text>\r\n\t\t\t\t\t\t\t\t\t\t<view @click=\"open_voice(item.url,index)\" v-show=\"item.type == 1\" class=\"textmessage2_voice\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image :ref=\"('voice_' + index)\" :src=\"voice_list[index]\" class=\"voice\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"voice_time\">{{item.length + 's'}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"chat_space\"></view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<scroll-view id = \"scrollView\" :scroll-top=\"scrollTop\" :style=\"{height : scrollH - 65 + 'px'}\" class=\"scroll1\" scroll-y=\"true\" :scroll-into-view=\"scrollInto\"\r\n\t\t\t\t\t scroll-with-animation style=\"position: absolute;left:0; top:0; \r\n\t\t\t        right: 0; bottom: 0; \">\r\n\t\t\t\t\t\t<block v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t\t<template v-if=\"item.uid === myID\">\r\n\t\t\t\t\t\t\t\t<view :id=\"'chat' +index\" class=\"messagebottom2\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.avatar\" class=\"rounded2\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"message\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"user_nickname2\">{{item.user_nickname}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"message_row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '1'\" class=\"wen_text\">问</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '2'\" class=\"wen_text\">答</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<rich-text v-show=\"item.type == 0\" class=\"textmessage\" :nodes=\"item.content\" space=\"nbsp\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t\t\t<view @click=\"open_voice(item.url,index)\" v-show=\"item.type == 1\" class=\"textmessage2_voice_my_my\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :ref=\"('voice_' + index)\" :src=\"voice_list[index]\" class=\"voice_my\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"voice_time\">{{item.length + 's'}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"chat_space\"></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t<view :id=\"'chat' +index\" class=\"messagebottom\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.avatar\" class=\"rounded\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"message\">\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.user_type == 1 || liveInfo.liveuid == item.uid\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"jiangshiview\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"user_nickname\">{{item.user_nickname}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"jiangshi\">讲师</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"user_nickname\">{{item.user_nickname}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"message_row2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<rich-text v-show=\"item.type == 0\" class=\"textmessage2\" :nodes=\"item.content\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t\t\t<view @click=\"open_voice(item.url,index)\" v-show=\"item.type == 1\" class=\"textmessage2_voice\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :ref=\"('voice_' + index)\" :src=\"voice_list[index]\" class=\"voice\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"voice_time\">{{item.length + 's'}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '1'\" class=\"wen_text2\">问</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '2'\" class=\"wen_text2\">答</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"chat_space\"></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t\t<swiper-item>\r\n\t\t\t\t\t<scroll-view id = \"scrollView\" :scroll-top=\"scrollTop\" :style=\"{height : scrollH + 'px'}\" class=\"scroll1\" scroll-y=\"true\" :scroll-into-view=\"scrollInto\"\r\n\t\t\t\t\t scroll-with-animation style=\"position: absolute;left:0; top: 0; \r\n\t\t\t\t    right: 0; bottom: 0; \">\r\n\t\t\t\t\t\t<block v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t\t<template v-if=\"item.uid === myID\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.status == '1'\" :id=\"'chat' +index\" class=\"messagebottom2\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.avatar\" class=\"rounded2\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"message\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"user_nickname2\">{{item.user_nickname}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"message_row\">\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <template v-if=\"item.type == 0\"> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '1'\" class=\"wen_text\">问</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '2'\" class=\"wen_text\">答</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- </template> -->\r\n\t\t\t\t\t\t\t\t\t\t\t<rich-text class=\"textmessage\" :nodes=\"item.content\" v-show=\"item.type == 0\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t\t\t<view @click=\"open_voice(item.url,index)\" v-show=\"item.type == 1\" class=\"textmessage2_voice_my_my\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :ref=\"('voice_' + index)\" :src=\"voice_list[index]\" class=\"voice_my\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"voice_time\">{{item.length + 's'}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"chat_space\"></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.status == '1' || item.status == '2'\" :id=\"'chat' +index\" class=\"messagebottom\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.avatar\" class=\"rounded\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"message\">\r\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.user_type == 1 || liveInfo.liveuid == item.uid\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"jiangshiview\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"user_nickname\">{{item.user_nickname}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"jiangshi\">讲师</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"user_nickname\">{{item.user_nickname}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"message_row2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<rich-text v-show=\"item.type == 0\" class=\"textmessage2\" :nodes=\"item.content\"></rich-text>\r\n\t\t\t\t\t\t\t\t\t\t\t<view @click=\"open_voice(item.url,index)\" v-show=\"item.type == 1\" class=\"textmessage2_voice\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image :ref=\"('voice_' + index)\" :src=\"voice_list[index]\" class=\"voice\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"voice_time\">{{item.length + 's'}}</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '1'\" class=\"wen_text2\">问</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"item.status == '2'\" class=\"wen_text2\">答</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t    <view class=\"chat_space\"></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t<template v-if=\"tabIndex != 2\">\r\n\t\t\t\t<view class=\"inputbottom\" :style=\"'bottom:' + inputbuttom +'px'\">\r\n\t\t\t\t\t<view class=\"inputclass\">\r\n\t\t\t\t\t\t<image class=\"sendemojy\" @click=\"submitemojy\" src=\"../../static/chat_face.png\"></image>\r\n\t\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t\t<image class=\"sendvoice\" @click=\"sendvoice\" :src=\"chat_voice\"></image>\r\n\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t<view @touchstart.stop.prevent=\"startVoice\" @touchmove.stop.prevent=\"moveVoice\" @touchend.stop=\"endVoice\"\r\n\t\t\t\t\t\t @touchcancel.stop=\"cancelVoice\" class=\"inputborder\" v-if=\"isvoice == true\" style=\"color: #969696;text-align: center; line-height: 80rpx;\">{{voiceTitle}}</view>\r\n\t\t\t\t\t\t<view class=\"inputborder\" v-if=\"isvoice == false\">\r\n\t\t\t\t\t\t\t<input :disabled=\"isshut == false ? false:true\" :adjust-position=\"false\" ref=\"input1\" hold-keyboard='true'\r\n\t\t\t\t\t\t\t confirm-type=\"send\" @keyup.enter='send' @confirm=\"send\" v-model=\"content\" class=\"input\" :placeholder=\"shut_place\" />\r\n\t\t\t\t\t\t\t<view class=\"wen-btn-wrap\">\r\n\t\t\t\t\t\t\t\t<view @click=\"question\" class=\"duihao-wrap\">\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"isQue == true\" class=\"duihao-img\" src=\"../../static/images/duihao.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t<image v-if=\"isQue == false\" class=\"duihao-img\" src=\"../../static/images/questionno.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"tiwen\">提问</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<emojy v-show=\"showemojy == true\" class='emojy' @songemojy='songemojy' @new_sendemojy='new_sendemojy'></emojy>\r\n\t\t\t</template>\r\n\t\t\t<swiper :current=\"show_big_ppt_index2\" v-show=\"show_big_ppt == true\" class=\"big_swiper\" @change=\"big_change\">\r\n\t\t\t\t<swiper-item v-for=\"(item,index) in ppts\" :key=\"index\" class=\"big_swiper_item\">\r\n\t\t\t\t\t<image :src=\"item.thumb\" mode=\"aspectFit\" class=\"big_swiper_item_image\"></image>\r\n\t\t\t\t\t<view class=\"row\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t<view v-show=\"show_big_ppt == true\" :style=\"'top:' + system_ppt_top +'px;'\" class=\"big_pptnum\">{{show_big_ppt_index +'/'+ppts.length}}</view>\r\n\t\t\t<view v-show=\"show_big_ppt == true\" @click=\"big_ppt_back\" class=\"ppt_big_back_big\"></view>\r\n\t\t\t<image v-show=\"show_big_ppt == true\" @click=\"big_ppt_back\" :style=\"'top:' + system_ppt_top +'px;'\" mode=\"aspectFit\"\r\n\t\t\t class=\"ppt_big_back\" src=\"../../static/navi_backImg_white@3x.png\"></image>\r\n\t\t\t<view class=\"voice_an\" v-if=\"recording == true\">\r\n\t\t\t\t<image v-if=\"voiceimagestatus == false\" class=\"voice_an_image\" src=\"../../static/RecordCancel@2x.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<!-- <image  :animation=\"num==0?showpic:hidepic\" v-if=\"voiceimagestatus == true\" class=\"voice_an_image2\" src=\"../../static/RecordingSignal001@2x.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<image  :animation=\"num==1?showpic:hidepic\" v-if=\"voiceimagestatus == true\" class=\"voice_an_image2\" src=\"../../static/RecordingSignal002@2x.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<image  :animation=\"num==2?showpic:hidepic\" v-if=\"voiceimagestatus == true\" class=\"voice_an_image2\" src=\"../../static/RecordingSignal003@2x.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<image  :animation=\"num==3?showpic:hidepic\" v-if=\"voiceimagestatus == true\" class=\"voice_an_image2\" src=\"../../static/RecordingSignal004@2x.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<image  :animation=\"num==4?showpic:hidepic\" v-if=\"voiceimagestatus == true\" class=\"voice_an_image2\" src=\"../../static/RecordingSignal005@2x.png\" mode=\"aspectFit\"></image> -->\r\n\t\t\t\t<image v-if=\"voiceimagestatus == true\" class=\"voice_an_image2\" src=\"../../static/RecordingSignal006@2x.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<view class=\"text\">{{voiceIconText}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport qiniuUploader from '../../../qiniuUploader.js';\r\n\timport uniNavBar from '@/components/uni-ui/uni-nav-bar/uni-nav-bar.vue';\r\n\timport imtAudio from '@/components/imt-audio/imt-audio.vue';\r\n\timport unisocket from './uniapp.socketio.js';\r\n\timport md5_js from \"../../../static/js/md53.js\";\r\n\t// #ifdef H5\r\n\timport AgoraRTCH5 from \"./AgoraRTCSDK-3.0.1.js\";\r\n\t// #endif\r\n\t// #ifdef MP-WEIXIN\r\n\timport AogoraWechat from \"./Agora_Miniapp_SDK_for_WeChat.js\";\r\n\t// #endif\r\n\timport Emojy from '@/components/emojy/emojy.vue';\r\n\tconst app = getApp();\r\n\tvar socket = '';\r\n\tvar wechatAgora = '';\r\n\tlet H5Client = '';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniNavBar,\r\n\t\t\tEmojy,\r\n\t\t\timtAudio\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfromPPt: false,\r\n\t\t\t\tfromshare: false,\r\n\t\t\t\tShareScreenUid: 999999999,\r\n\t\t\t\tRecorder: uni.getRecorderManager(),\r\n\t\t\t\tchat_audio: uni.createInnerAudioContext(),\r\n\t\t\t\trecording: false, //标识是否正在录音\r\n\t\t\t\tisStopVoice: false, //加锁 防止点击过快引起的当录音正在准备(还没有开始录音)的时候,却调用了stop方法但并不能阻止录音的问题\r\n\t\t\t\tvoiceInterval: null,\r\n\t\t\t\tvoiceTime: 0, //总共录音时长\r\n\t\t\t\tcanSend: true, //是否可以发送\r\n\t\t\t\tPointY: 0, //坐标位置\r\n\t\t\t\tvoiceIconText: \"正在录音...\",\r\n\t\t\t\tvoiceimagestatus: true,\r\n\t\t\t\tvoiceTitle: '按住说话',\r\n\t\t\t\tchat_voice: \"../../static/chat_voice@3x.png\",\r\n\t\t\t\tisvoice: false,\r\n\t\t\t\tshow_big_ppt: false,\r\n\t\t\t\tscrollH: 0,\r\n\t\t\t\tsystem_ppt_top: 0,\r\n\t\t\t\ttabIndex: 0,\r\n\t\t\t\ttabBars: [{\r\n\t\t\t\t\tname: \"讲师区\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"讨论区\"\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: \"问答区\"\r\n\t\t\t\t}],\r\n\t\t\t\tscrollInto: \"\",\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tlist: [],\r\n\t\t\t\tisConnectSocket: false, //是否连接socket\r\n\t\t\t\tliveInfo: {\r\n\t\t\t\t\t'liveuid': '',\r\n\t\t\t\t\t'courseid': '',\r\n\t\t\t\t\t'lessonid': ''\r\n\t\t\t\t},\r\n\t\t\t\tuserInfo: {},\r\n\t\t\t\tisQue: false,\r\n\t\t\t\t//直播添加\r\n\t\t\t\tagoraappid: '',\r\n\t\t\t\tagoramRoomName: '',\r\n\t\t\t\tagorauid: '',\r\n\t\t\t\tphonetype: 0,\r\n\t\t\t\twechatliveurl: '',\r\n\t\t\t\tres_url: '',\r\n\t\t\t\twechatliveurl_small: '',\r\n\t\t\t\tmyID: '',\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tislive: '',\r\n\t\t\t\tUsercount: 0,\r\n\t\t\t\tdiancolor: '#38DAA6',\r\n\t\t\t\ttimer: '',\r\n\t\t\t\tlivetype: '',\r\n\t\t\t\tintr: '',\r\n\t\t\t\tpull: '',\r\n\t\t\t\tthumb: '',\r\n\t\t\t\tduration: '',\r\n\t\t\t\tcurrentTime: 0,\r\n\t\t\t\tvideoContext: '',\r\n\t\t\t\tbuttonimage: '',\r\n\t\t\t\tstatus: 1,\r\n\t\t\t\tstart: '',\r\n\t\t\t\tend: '',\r\n\t\t\t\tppts: [],\r\n\t\t\t\tnoppt: false,\r\n\t\t\t\tpptindex: 0,\r\n\t\t\t\tshowppt_index: 0,\r\n\t\t\t\tshow_big_ppt_index: 1,\r\n\t\t\t\tshow_big_ppt_index2: 0,\r\n\t\t\t\temojylist: [],\r\n\t\t\t\tshowemojy: false,\r\n\t\t\t\tinputbuttom: 0,\r\n\t\t\t\tshut_place: \"我来说几句~\",\r\n\t\t\t\tisshut: false,\r\n\t\t\t\tshownothingVideo: false,\r\n\t\t\t\tzhibo_leave: false,\r\n\t\t\t\tzhibo_leave_text: '老师暂时离开',\r\n\t\t\t\tzhibo_leave_text_w: '精彩稍后继续',\r\n\t\t\t\tshow_nothing_image: true,\r\n\t\t\t\tshow_nothing_image2: false,\r\n\t\t\t\tinput_adjust: false,\r\n\t\t\t\tvideo_zhezhao: true,\r\n\t\t\t\tvoice_list: [],\r\n\t\t\t\tintervl: '',\r\n\t\t\t\tvoice_index: -1,\r\n\t\t\t\tQiNiutoken: '',\r\n\t\t\t\tvoice_url: '',\r\n\t\t\t\tvoice_length: '',\r\n\t\t\t\tanimation: [],\r\n\t\t\t\tshowpic: '',\r\n\t\t\t\thidepic: '',\r\n\t\t\t\tsetInter1: '',\r\n\t\t\t\tnum: 0,\r\n\t\t\t\tpicmaxnum: 6,\r\n\t\t\t\tisaudioerror: false,\r\n\t\t\t\tshowsmallvideo: false,\r\n\t\t\t\tshowShareScreen: false,\r\n\t\t\t\tshowBigScreen: true,\r\n\t\t\t\tlivemode: 0,\r\n\t\t\t\trateShow: false, // 倍速浮层\r\n\t\t\t\tcurrentRate: 1.0, // 默认倍速\t\r\n\t\t\t\tdanmuList: [], //跑马灯弹幕列表\r\n\t\t\t\tvideoDuration: 0, //视频时长\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\tuni.getStorage({\r\n\t\t\tkey: 'userinfo',\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\tgetApp().globalData.userinfo = res.data;\r\n\t\t\t},\r\n\t\t});\t\t\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tvar that = this;\r\n\t\t\tthat.system_ppt_top = 25;\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t//-视频区域高度-直播间状态高度-聊天顶部高度-输入框高度-导航栏高度 - 状态栏高度\r\n\t\t\t\t\tthat.scrollH = res.windowHeight  - 275 - 64 - 20 - parseInt(res.safeArea.top);\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tthat.scrollH = res.windowHeight  - 275 - parseInt(res.safeArea.top)-1;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tlet weinfo = uni.getMenuButtonBoundingClientRect();\r\n\t\t\t\t\tconsole.log(weinfo);\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthat.system_ppt_top = parseInt(res.safeArea.top) + 10;\r\n\t\t\t\t\t// that.scrollH = res.windowHeight * 750 / res.windowWidth \r\n\t\t\t\t\t// - 550 - 64 - 20 * 750 / res.windowWidth \r\n\t\t\t\t\t// - (weinfo.top - 20) *\r\n\t\t\t\t\t// \t750 / res.windowWidth;\r\n\t\t\t\t\tthat.scrollH = (res.windowHeight - 64 -(weinfo.top - 20)) - 275 - 1;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tthat.liveLive(that.liveInfo.liveuid, that.liveInfo.courseid, that.liveInfo.lessonid);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.GetChat();\r\n\t\t\tthis.getHorseLamp();\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// #ifdef H5\r\n\t\t\tif (this.livetype == 5 || this.livetype == 8) {\r\n\t\t\t\tH5Client.leave();\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\tthis.chat_audio.stop();\r\n\t\t\tsocket.disconnect();\r\n\t\t\tsocket.close();\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\tconsole.log(\"运行在小程序\");\r\n\t\t\tthis.phonetype = 4;\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef H5\r\n\t\t\tconsole.log(\"运行在H5\");\r\n\t\t\tthis.phonetype = 3;\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tif (uni.getSystemInfoSync().platform === 'android') {\r\n\t\t\t\tconsole.log(\"运行在android\");\r\n\t\t\t\tthis.phonetype = 1;\r\n\t\t\t} else if (uni.getSystemInfoSync().platform === 'ios') {\r\n\t\t\t\tthis.phonetype = 2;\r\n\t\t\t\tconsole.log(\"运行在ios\");\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\tthis.ppts = [];\r\n\t\t\tthis.userInfo = app.globalData.userinfo;\r\n\t\t\tthis.liveInfo.liveuid = option.liveuid;\r\n\t\t\tthis.liveInfo.courseid = option.courseid;\r\n\t\t\tthis.liveInfo.lessonid = option.lessonid;\r\n\t\t\tthis.thumb = option.thumb;\r\n\t\t\tthis.myID = app.globalData.userinfo.id;\r\n\t\t\tthis.getqiniutoken();\r\n\t\t\tuni.onKeyboardHeightChange(res => {\r\n\t\t\t\tif (res.height > 0) {\r\n\t\t\t\t\tif (this.showemojy == true) {\r\n\t\t\t\t\t\tthis.showemojy = false;\r\n\t\t\t\t\t\tthis.inputbuttom = 170;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.inputbuttom = res.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (res.height == 0) {\r\n\t\t\t\t\tif (this.showemojy == true) {\r\n\t\t\t\t\t\tthis.inputbuttom = 170;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.inputbuttom = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//音频播放事件\r\n\t\t\tthis.chat_audio.onPlay(() => {\r\n\t\t\t\tthis.isaudioerror = false;\r\n\t\t\t\tconsole.log('开始播放');\r\n\t\t\t})\r\n\t\t\tthis.chat_audio.onStop(() => {\r\n\t\t\t\tthis.isaudioerror = false;\r\n\t\t\t\tthis.voice_index = -1;\r\n\t\t\t\tconsole.log('播放结束-onStop');\r\n\t\t\t\tclearInterval(this.intervl);\r\n\t\t\t\tfor (let i = 0; i < this.voice_list.length; i++) {\r\n\t\t\t\t\tthis.voice_list[i] = '../../static/receiver_voice@3x.png';\r\n\t\t\t\t\tthis.$set(this.voice_list, i, this.voice_list[i]);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t//音频结束事件\r\n\t\t\tthis.chat_audio.onEnded(() => {\r\n\t\t\t\tthis.isaudioerror = false;\r\n\t\t\t\tthis.voice_index = -1;\r\n\t\t\t\tconsole.log('播放结束-onEnded');\r\n\t\t\t\tclearInterval(this.intervl);\r\n\t\t\t\tfor (let i = 0; i < this.voice_list.length; i++) {\r\n\t\t\t\t\tthis.voice_list[i] = '../../static/receiver_voice@3x.png';\r\n\t\t\t\t\tthis.$set(this.voice_list, i, this.voice_list[i]);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.chat_audio.onError((res) => {\r\n\t\t\t\tthis.chat_audio.stop();\r\n\t\t\t\tthis.isaudioerror = true;\r\n\t\t\t\tclearInterval(this.intervl);\r\n\t\t\t\tconsole.log('播放错误');\r\n\t\t\t\tconsole.log(res.errMsg);\r\n\t\t\t\tconsole.log(res.errCode);\r\n\t\t\t});\r\n\t\t\t//录音开始事件\r\n\t\t\tthis.Recorder.onStart(e => {\r\n\t\t\t\tthis.beginVoice();\r\n\t\t\t});\r\n\t\t\t//录音结束事件\r\n\t\t\tthis.Recorder.onStop(res => {\r\n\t\t\t\tclearInterval(this.voiceInterval);\r\n\t\t\t\tthis.handleRecorder(res);\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 显示倍速浮层\r\n\t\t\tshowSwitchRate(rate) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.rateShow = true;\r\n\t\t\t},\r\n\t\t\t// 切换倍速\r\n\t\t\tswitchRate(e) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet rate = Number(e.currentTarget.dataset.rate);\r\n\t\t\t\tthat.currentRate = rate;\r\n\t\t\t\tthat.rateShow = false;\r\n\t\t\t\tthis.videoContext.playbackRate(rate);\r\n\t\t\t},\t\r\n\t\t\t//视频加载完成事件 仅小程序h5支持\r\n\t\t\tloadvideo(e){\r\n\t\t\t\tthis.videoDuration = e.detail.duration; //视频时长\r\n\t\t\t\tthis.getHorseLamp();\r\n\t\t\t},\r\n\t\t\t// 获取跑马灯(用户手机号/微信登录用户名)\r\n\t\t\tgetHorseLamp(){\r\n\t\t\t\tlet user_login = app.globalData.userinfo.user_login;\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet videoDuration = parseInt(that.videoDuration);\r\n\t\t\t\t//原生端初始化时无法获取视频时长, 只能写死\r\n\t\t\t\tfor (let i = 2; i < videoDuration; i+=18) {\r\n\t\t\t\t\tlet danmu = {\r\n\t\t\t\t\t\ttext: user_login,\r\n\t\t\t\t\t\tcolor: '#ED1C24',\r\n\t\t\t\t\t\ttime: i\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthat.danmuList.push(danmu);\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetqiniutoken() {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: getApp().globalData.site_url + 'Upload.GetQiniuToken',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t'uid': getApp().globalData.userinfo.id,\r\n\t\t\t\t\t\t'token': getApp().globalData.userinfo.token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif (res.data.data.code == 0) {\r\n\t\t\t\t\t\t\tthis.QiNiutoken = this.decypt(res.data.data.info[0].token);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tstopPic() {\r\n\t\t\t\tclearInterval(this.setInter1);\r\n\t\t\t},\r\n\t\t\tchangePic() { //轮播方法\r\n\t\t\t\tclearInterval(this.setInter1);\r\n\t\t\t\tvar animation = uni.createAnimation({\r\n\t\t\t\t\ttimingFunction: 'ease',\r\n\t\t\t\t\tduration: 4000,\r\n\t\t\t\t\tdelay: 0,\r\n\t\t\t\t});\r\n\t\t\t\tthis.animation = animation;\r\n\t\t\t\tthis.setInter1 = setInterval(function() { //循环\r\n\t\t\t\t\tthis.num++;\r\n\t\t\t\t\tif (this.num == this.picmaxnum) {\r\n\t\t\t\t\t\tthis.num = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//淡入\r\n\t\t\t\t\tanimation.opacity(1).step({\r\n\t\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\t\tdelay: 1000\r\n\t\t\t\t\t}) //描述动画\r\n\t\t\t\t\tthis.showpic = animation.export() //输出动画\r\n\t\t\t\t\t//淡出\r\n\t\t\t\t\tanimation.opacity(0).step({\r\n\t\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\t\tdelay: 1000\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.hidepic = animation.export()\r\n\t\t\t\t}, 4000)\r\n\t\t\t},\r\n\t\t\t//准备开始录音\r\n\t\t\tstartVoice(e) {\r\n\t\t\t\tif (this.isshut == true) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '全体禁言中',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.chat_audio.pause();\r\n\t\t\t\tclearInterval(this.intervl);\r\n\t\t\t\tfor (let i = 0; i < this.voice_list.length; i++) {\r\n\t\t\t\t\tthis.voice_list[i] = '../../static/receiver_voice@3x.png';\r\n\t\t\t\t\tthis.$set(this.voice_list, i, this.voice_list[i]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.recording = true;\r\n\t\t\t\tthis.isStopVoice = false;\r\n\t\t\t\tthis.canSend = true;\r\n\t\t\t\tthis.voiceIconText = \"正在录音...\"\r\n\t\t\t\tthis.voiceimagestatus = true;\r\n\t\t\t\tthis.PointY = e.touches[0].clientY;\r\n\t\t\t\tthis.Recorder.start({\r\n\t\t\t\t\tformat: 'mp3'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//录音已经开始\r\n\t\t\tbeginVoice() {\r\n\t\t\t\tif (this.isStopVoice) {\r\n\t\t\t\t\tthis.Recorder.stop();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.voiceTitle = '松开 结束'\r\n\t\t\t\tthis.voiceInterval = setInterval(() => {\r\n\t\t\t\t\tthis.voiceTime++;\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t//move 正在录音中\r\n\t\t\tmoveVoice(e) {\r\n\t\t\t\tconst PointY = e.touches[0].clientY\r\n\t\t\t\tconst slideY = this.PointY - PointY;\r\n\t\t\t\tif (slideY > uni.upx2px(120)) {\r\n\t\t\t\t\tthis.canSend = false;\r\n\t\t\t\t\tthis.voiceIconText = '松开手指 取消发送 '\r\n\t\t\t\t\tthis.voiceTitle = '手指上滑 取消发送 '\r\n\t\t\t\t\tthis.voiceimagestatus = false;\r\n\t\t\t\t\tthis.stopPic();\r\n\t\t\t\t} else if (slideY > uni.upx2px(60)) {\r\n\t\t\t\t\tthis.canSend = false;\r\n\t\t\t\t\tthis.voiceTitle = '手指上滑 取消发送 '\r\n\t\t\t\t\tthis.voiceIconText = '手指上滑 取消发送 '\r\n\t\t\t\t\tthis.voiceimagestatus = false;\r\n\t\t\t\t\tthis.stopPic();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.canSend = true;\r\n\t\t\t\t\tthis.voiceIconText = '正在录音...'\r\n\t\t\t\t\tthis.voiceTitle = '松开结束'\r\n\t\t\t\t\tthis.voiceimagestatus = true;\r\n\t\t\t\t\tthis.changePic();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//结束录音\r\n\t\t\tendVoice() {\r\n\t\t\t\tthis.stopPic();\r\n\t\t\t\tthis.inputbuttom = 0;\r\n\t\t\t\tthis.isStopVoice = true; //加锁 确保已经结束录音并不会录制\r\n\t\t\t\tthis.Recorder.stop();\r\n\t\t\t\tthis.voiceTitle = '按住 说话'\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t},\r\n\t\t\t//录音被打断\r\n\t\t\tcancelVoice(e) {\r\n\t\t\t\tthis.stopPic();\r\n\t\t\t\tthis.inputbuttom = 0;\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t\tthis.voiceTime = 0;\r\n\t\t\t\tthis.voiceTitle = '按住 说话';\r\n\t\t\t\tthis.canSend = false;\r\n\t\t\t\tthis.Recorder.stop();\r\n\t\t\t},\r\n\t\t\t//处理录音文件\r\n\t\t\thandleRecorder({\r\n\t\t\t\ttempFilePath,\r\n\t\t\t\tduration\r\n\t\t\t}) {\r\n\t\t\t\tif (this.canSend == false) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet contentDuration;\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tconsole.log('录制时间');\r\n\t\t\t\tconsole.log(this.voiceTime);\r\n\t\t\t\tif (this.voiceTime < 2) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '说话时间太短',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.voiceIconText = \"说话时间太短\";\r\n\t\t\t\t\tthis.recording = false;\r\n\t\t\t\t\tthis.inputbuttom = 0;\r\n\t\t\t\t\tthis.recording = false;\r\n\t\t\t\t\tthis.voiceTime = 0;\r\n\t\t\t\t\tthis.voiceTitle = '按住 说话';\r\n\t\t\t\t\tthis.canSend = false;\r\n\t\t\t\t\tthis.Recorder.stop();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.voiceTime = 0;\r\n\t\t\t\tcontentDuration = duration / 1000;\r\n\t\t\t\t// #endif\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t\tvar name = 'uni_voice_' + this.getTime() + '.wav';\r\n\t\t\t\tqiniuUploader.upload(tempFilePath, res => {\r\n\t\t\t\t\tif (res.fileUrl.indexOf(\"undefined\") != -1) {\r\n\t\t\t\t\t\tconsole.log('上传成功，但url含 undefined');\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '出现错误，请重新录制语音',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('上传成功');\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthis.voice_url = res.fileUrl;\r\n\t\t\t\t\tthis.voice_length = Math.ceil(contentDuration);\r\n\t\t\t\t\tthis.send();\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('上传失败');\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}, {\r\n\t\t\t\t\tregion: 'ECN',\r\n\t\t\t\t\tdomain: getApp().globalData.qiniuimageurl,\r\n\t\t\t\t\tkey: name,\r\n\t\t\t\t\tuptoken: this.QiNiutoken,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tbig_change(event) {\r\n\t\t\t\tthis.show_big_ppt_index = parseInt(event.detail.current) + 1;\r\n\t\t\t\tthis.show_big_ppt_index2 = parseInt(event.detail.current);\r\n\t\t\t},\r\n\t\t\tbig_ppt_back() {\r\n\t\t\t\tthis.show_big_ppt = false;\r\n\t\t\t},\r\n\t\t\tgetTime() {\r\n\t\t\t\tlet yy = new Date().getFullYear();\r\n\t\t\t\tlet mm = new Date().getMonth() + 1;\r\n\t\t\t\tlet dd = new Date().getDate();\r\n\t\t\t\tlet hh = new Date().getHours();\r\n\t\t\t\tlet mf = new Date().getMinutes() < 10 ? '0' + new Date().getMinutes() : new Date().getMinutes();\r\n\t\t\t\tlet ss = new Date().getSeconds() < 10 ? '0' + new Date().getSeconds() : new Date().getSeconds();\r\n\t\t\t\treturn yy + mm + dd + hh + mf + ss;\r\n\t\t\t},\r\n\t\t\tbackCourseList() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '是否要退出直播间',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tshowCancel: true,\r\n\t\t\t\t\tcancelText: '取消',\r\n\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\tconfirmColor: '#38DAA6',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tsocket.disconnect();\r\n\t\t\t\t\t\t\tsocket.close();\r\n\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\tif (this.livetype == 5 || this.livetype == 8) {\r\n\t\t\t\t\t\t\t\tH5Client.leave();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\topen_voice(url, index) {\r\n\t\t\t\tthis.chat_audio.pause();\r\n\t\t\t\tclearInterval(this.intervl);\r\n\t\t\t\tfor (let i = 0; i < this.voice_list.length; i++) {\r\n\t\t\t\t\tthis.voice_list[i] = '../../static/receiver_voice@3x.png';\r\n\t\t\t\t\tthis.$set(this.voice_list, i, this.voice_list[i]);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.voice_index == index) {\r\n\t\t\t\t\tthis.voice_index = -1;\r\n\t\t\t\t\tconsole.log('手动停止');\r\n\t\t\t\t\tthis.chat_audio.pause();\r\n\t\t\t\t\tclearInterval(this.intervl);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(url);\r\n\t\t\t\t\tif (url.indexOf(\"undefined\") != -1) {\r\n\t\t\t\t\t\tthis.voice_index = -1;\r\n\t\t\t\t\t\tconsole.log('url出现错误，停止播放');\r\n\t\t\t\t\t\tthis.chat_audio.pause();\r\n\t\t\t\t\t\tclearInterval(this.intervl);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.chat_audio.src = url;\r\n\t\t\t\t\tthis.chat_audio.play();\r\n\t\t\t\t\tthis.voice_index = index;\r\n\t\t\t\t\tthis.intervl = setInterval(() => {\r\n\t\t\t\t\t\tconsole.log('启动');\r\n\t\t\t\t\t\tthis.voice_list[index] = '../../static/receiver_voice_play_1@3x.png';\r\n\t\t\t\t\t\tthis.$set(this.voice_list, index, this.voice_list[index]);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.voice_list[index] = '../../static/receiver_voice_play_2@3x.png';\r\n\t\t\t\t\t\t\tthis.$set(this.voice_list, index, this.voice_list[index]);\r\n\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.voice_list[index] = '../../static/receiver_voice_play_3@3x.png';\r\n\t\t\t\t\t\t\tthis.$set(this.voice_list, index, this.voice_list[index]);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}, 600);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.isaudioerror == true) {\r\n\t\t\t\t\tthis.chat_audio.stop();\r\n\t\t\t\t\tclearInterval(this.intervl);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddNodeListen() {\r\n\t\t\t\tsocket = new unisocket((app.globalData.socket_url), {\r\n\t\t\t\t\tquery: {},\r\n\t\t\t\t\ttransports: ['websocket', 'polling'],\r\n\t\t\t\t\ttimeout: 5000\r\n\t\t\t\t});\r\n\t\t\t\tsocket.emit('conn', {\r\n\t\t\t\t\tuid: this.userInfo.id, //进入该房间的学生id 假如等于下面的房间id, 那即为老师进入房间\r\n\t\t\t\t\troomnum: this.liveInfo.liveuid, //房间号,即老师id\r\n\t\t\t\t\tnickname: this.userInfo.user_nickname,\r\n\t\t\t\t\tstream: this.liveInfo.liveuid + '_' + this.liveInfo.courseid + '_' + this.liveInfo.lessonid, //老师id_课程id_课时id\r\n\t\t\t\t\ttoken: this.userInfo.token,\r\n\t\t\t\t});\r\n\t\t\t\tsocket.on('error', (data) => {\r\n\t\t\t\t\tconsole.log('ws 失败 ' + data);\r\n\t\t\t\t});\r\n\t\t\t\tsocket.on('conn', (data) => {\r\n\t\t\t\t\tconsole.log('ws 已连接 ' + data);\r\n\t\t\t\t\tif (data == 'no') {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '聊天服务器连接失败',\r\n\t\t\t\t\t\t\tcontent: '请尝试退出直播间重新进入',\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tcancelText: '',\r\n\t\t\t\t\t\t\tconfirmText: '确定',\r\n\t\t\t\t\t\t\tconfirmColor: '#38DAA6',\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t// uni.navigateBack({\r\n\t\t\t\t\t\t\t\t// \tdelta: 1\r\n\t\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isConnectSocket = true; //已连接\r\n\t\t\t\t});\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tsocket.on('broadcastingListen', (data) => {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\tlet msgInfo = JSON.parse(data[i]).msg[0];\r\n\t\t\t\t\t\t//console.log(JSON.parse(JSON.stringify(msgInfo)));\r\n\t\t\t\t\t\tif (msgInfo._method_ == \"changeMode\") {\r\n\t\t\t\t\t\t\tif (msgInfo.action == 1) {\r\n\t\t\t\t\t\t\t\tconsole.log('切换到PPt');\r\n\t\t\t\t\t\t\t\tthis.livetype = 4;\r\n\t\t\t\t\t\t\t\tthis.fromPPt = true;\r\n\t\t\t\t\t\t\t\tthis.fromshare = false;\r\n\t\t\t\t\t\t\t\tthis.showsmallvideo = true;\r\n\t\t\t\t\t\t\t\tthis.scrollH -= 75;\r\n\t\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\t\tthis.wechatliveurl_small = this.res_url;\r\n\t\t\t\t\t\t\t\tthis.wechatliveurl = '';\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\tthis.showBigScreen = false;\r\n\t\t\t\t\t\t\t\tthis.showShareScreen = false;\r\n\t\t\t\t\t\t\t\tH5Client.leave();\r\n\t\t\t\t\t\t\t\tthis.agoraH5(this.agoraappid, this.agoramRoomName);\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t} else if (msgInfo.action == 0) {\r\n\t\t\t\t\t\t\t\tconsole.log('切换到直播');\r\n\t\t\t\t\t\t\t\tthis.livetype = 5;\r\n\t\t\t\t\t\t\t\tif (this.fromshare == false && this.fromPPt == true) {\r\n\t\t\t\t\t\t\t\t\tthis.scrollH += 75;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.fromPPt = false;\r\n\t\t\t\t\t\t\t\tthis.fromshare = false;\r\n\t\t\t\t\t\t\t\tthis.showsmallvideo = false;\r\n\t\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\t\tthis.wechatliveurl_small = '';\r\n\t\t\t\t\t\t\t\tthis.wechatliveurl = this.res_url;\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\tthis.showBigScreen = true;\r\n\t\t\t\t\t\t\t\tthis.showShareScreen = false;\r\n\t\t\t\t\t\t\t\tH5Client.leave();\r\n\t\t\t\t\t\t\t\tthis.agoraH5(this.agoraappid, this.agoramRoomName);\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t} else if (msgInfo.action == 2) {\r\n\t\t\t\t\t\t\t\tconsole.log('切换到屏幕共享');\r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\tthis.showBigScreen = false;\r\n\t\t\t\t\t\t\t\tthis.showShareScreen = true;\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\tthis.livetype = 8;\r\n\t\t\t\t\t\t\t\t//屏幕共享\r\n\t\t\t\t\t\t\t\tif (this.fromPPt == true) {\r\n\t\t\t\t\t\t\t\t\tthis.scrollH += 75;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.fromshare = true;\r\n\t\t\t\t\t\t\t\tthis.showsmallvideo = false;\r\n\t\t\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\t\tthis.wechatliveurl_small = '';\r\n\t\t\t\t\t\t\t\tthis.wechatliveurl = this.res_url;\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\tH5Client.leave();\r\n\t\t\t\t\t\t\t\tthis.agoraH5(this.agoraappid, this.agoramRoomName);\r\n\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (msgInfo._method_ == \"Kick\") {\r\n\t\t\t\t\t\t\t//踢出直播间\r\n\t\t\t\t\t\t\tif (msgInfo.action == 1) {\r\n\t\t\t\t\t\t\t\tif (msgInfo.touid == getApp().globalData.userinfo.id) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '你已被讲师踢出房间',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (msgInfo._method_ == \"StartEndLive\") {\r\n\t\t\t\t\t\t\tthis.zhibo_leave = true;\r\n\t\t\t\t\t\t\tthis.video_zhezhao = true;\r\n\t\t\t\t\t\t\tthis.show_nothing_image = false;\r\n\t\t\t\t\t\t\tthis.show_nothing_image2 = true;\r\n\t\t\t\t\t\t\tthis.zhibo_leave_text = \"直播已结束\";\r\n\t\t\t\t\t\t\tthis.zhibo_leave_text_w = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (msgInfo._method_ == \"roomShutup\") {\r\n\t\t\t\t\t\t\t//Course.SetLesson\r\n\t\t\t\t\t\t\t//1 禁言 0 解除\r\n\t\t\t\t\t\t\tif (msgInfo.action == 1) {\r\n\t\t\t\t\t\t\t\tthis.shut_place = \"全体禁言中\";\r\n\t\t\t\t\t\t\t\tthis.content = \"\"\r\n\t\t\t\t\t\t\t\tthis.isshut = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.shut_place = \"我来说几句～\";\r\n\t\t\t\t\t\t\t\tthis.content = '';\r\n\t\t\t\t\t\t\t\tthis.isshut = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (msgInfo._method_ == \"Shutup\") {\r\n\t\t\t\t\t\t\tif (msgInfo.touid == getApp().globalData.userinfo.id) {\r\n\t\t\t\t\t\t\t\tthis.shut_place = \"你已被禁言\";\r\n\t\t\t\t\t\t\t\tthis.isshut = true;\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '你已被禁言',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (msgInfo._method_ == \"SendMsg\") {\r\n\t\t\t\t\t\t\tif (msgInfo.action == 0) {\r\n\t\t\t\t\t\t\t\t// if (msgInfo.ct.uid != getApp().globalData.userinfo.id) {\r\n\t\t\t\t\t\t\t\tthis.Usercount += 1;\r\n\t\t\t\t\t\t\t\tconsole.log('用户进入');\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar pinyinArray = getApp().globalData.pinyinArray;\r\n\t\t\t\t\t\t\t\tvar emojiArray = getApp().globalData.emojiArray;\r\n\t\t\t\t\t\t\t\tvar biaoqing_url = getApp().globalData.biaoqingurl;\r\n\t\t\t\t\t\t\t\tvar content = msgInfo.content;\r\n\t\t\t\t\t\t\t\tif (msgInfo.type == 0) {\r\n\t\t\t\t\t\t\t\t\tfor (let j = 0; j < 50; j++) {\r\n\t\t\t\t\t\t\t\t\t\tfor (let i = 0; i < emojiArray.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar path = getApp().globalData.biaoqingurl + pinyinArray[i];\r\n\t\t\t\t\t\t\t\t\t\t\tcontent = content.replace(emojiArray[i],\r\n\t\t\t\t\t\t\t\t\t\t\t\t'<img style=\"width: 25px; height: 25px; vertical-align: middle;\" src =\"' + path + '\"/>'\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.voice_list.push('../../static/receiver_voice@3x.png');\r\n\t\t\t\t\t\t\t\tmsgInfo.content = content;\r\n\t\t\t\t\t\t\t\tthis.list.push(msgInfo);\r\n\t\t\t\t\t\t\t\tthis.pageToBottom();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (msgInfo._method_ == 'disconnect') {\r\n\t\t\t\t\t\t\tif (this.Usercount != 0) {\r\n\t\t\t\t\t\t\t\tthis.Usercount -= 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log('用户离开');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (msgInfo._method_ == 'setPPT') {\r\n\t\t\t\t\t\t\tif (msgInfo.action == 0) {\r\n\t\t\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\t\t\t'id': msgInfo.pptid,\r\n\t\t\t\t\t\t\t\t\t'thumb': msgInfo.thumb\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tthis.noppt = false;\r\n\t\t\t\t\t\t\t\tthis.ppts.push(item);\r\n\t\t\t\t\t\t\t\tconsole.log('添加ppt');\r\n\t\t\t\t\t\t\t} else if (msgInfo.action == 1) {\r\n\t\t\t\t\t\t\t\tconsole.log('ppt删除');\r\n\t\t\t\t\t\t\t\tvar pptlist = this.ppts;\r\n\t\t\t\t\t\t\t\tfor (let i = 0; i < pptlist.length; i++) {\r\n\t\t\t\t\t\t\t\t\tvar item = pptlist[i];\r\n\t\t\t\t\t\t\t\t\tif (item.id == msgInfo.pptid) {\r\n\t\t\t\t\t\t\t\t\t\tthis.ppts.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (this.ppts.length == 0) {\r\n\t\t\t\t\t\t\t\t\tthis.noppt = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (msgInfo.action == 2) {\r\n\t\t\t\t\t\t\t\tthis.pptindex = parseInt(msgInfo.index);\r\n\t\t\t\t\t\t\t\tthis.showppt_index = this.pptindex + 1;\r\n\t\t\t\t\t\t\t\tconsole.log('ppt切换索引');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowBigView(index) {\r\n\t\t\t\tthis.show_big_ppt = true;\r\n\t\t\t\tthis.show_big_ppt_index = index + 1;\r\n\t\t\t\tthis.show_big_ppt_index2 = index;\r\n\t\t\t},\r\n\t\t\tsongemojy(data) {\r\n\t\t\t\tthis.content += data.chinese;\r\n\t\t\t},\r\n\t\t\tGetChat() {\r\n\t\t\t\tlet gData = app.globalData;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: gData.site_url + 'Live.GetChat',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t'uid': gData.userinfo.id,\r\n\t\t\t\t\t\t'token': gData.userinfo.token,\r\n\t\t\t\t\t\t'liveuid': this.liveInfo.liveuid,\r\n\t\t\t\t\t\t'courseid': this.liveInfo.courseid,\r\n\t\t\t\t\t\t'lessonid': this.liveInfo.lessonid,\r\n\t\t\t\t\t\t'lastid': '',\r\n\t\t\t\t\t\t'type': '0'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tvar pinyinArray = getApp().globalData.pinyinArray;\r\n\t\t\t\t\t\tvar emojiArray = getApp().globalData.emojiArray;\r\n\t\t\t\t\t\tthis.list = res.data.data.info;\r\n\t\t\t\t\t\tfor (let j = 0; j < this.list.length; j++) {\r\n\t\t\t\t\t\t\tvar msg = this.list[j];\r\n\t\t\t\t\t\t\tvar content = msg.content;\r\n\t\t\t\t\t\t\tif (msg.type == 0) {\r\n\t\t\t\t\t\t\t\tfor (let j = 0; j < 50; j++) {\r\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < emojiArray.length; i++) {\r\n\t\t\t\t\t\t\t\t\t\tvar path = getApp().globalData.biaoqingurl + pinyinArray[i];\r\n\t\t\t\t\t\t\t\t\t\tcontent = content.replace(emojiArray[i],\r\n\t\t\t\t\t\t\t\t\t\t\t'<img style=\"width: 25px; height: 25px; vertical-align: middle;\" src =\"' + path + '\"/>'\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.voice_list.push('../../static/receiver_voice@3x.png');\r\n\t\t\t\t\t\t\tmsg.content = content;\r\n\t\t\t\t\t\t\tthis.list[j] = msg;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.pageToBottom();\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync changeXXK(index) {\r\n\t\t\t\tthis.tabIndex = index;\r\n\t\t\t\tthis.pageToBottom();\r\n\t\t\t\treturn this.tabIndex;\r\n\t\t\t},\r\n\t\t\tonChangeTab(e) {\r\n\t\t\t\tthis.tabIndex = e.detail.current;\r\n\t\t\t\tthis.pageToBottom();\r\n\t\t\t},\r\n\t\t\tdecypt(code) {\r\n\t\t\t\tvar newcode = '';\r\n\t\t\t\tvar str = '1ecxXyLRB.COdrAi:q09Z62ash-QGn8VFNIlb=fM/D74WjS_EUzYuw?HmTPvkJ3otK5gp&';\r\n\t\t\t\tfor (var i = 0; i < code.length; i++) {\r\n\t\t\t\t\tvar codeIteam = code[i];\r\n\t\t\t\t\tfor (var j = 0; j < str.length; j++) {\r\n\t\t\t\t\t\tvar stringIteam = str[j];\r\n\t\t\t\t\t\tif (codeIteam == stringIteam) {\r\n\t\t\t\t\t\t\tif (j == 0) {\r\n\t\t\t\t\t\t\t\tnewcode += str[str.length - 1];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnewcode += str[j - 1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn newcode;\r\n\t\t\t},\r\n\t\t\tagoraWechat(agoraappid, agorastream, uid) {\r\n\t\t\t\tthis.video_zhezhao = true;\r\n\t\t\t\tvar _that = this;\r\n\t\t\t\t//初始化\r\n\t\t\t\twechatAgora = new AogoraWechat.Client();\r\n\t\t\t\twechatAgora.setRole('audience');\r\n\t\t\t\twechatAgora.init(this.decypt(agoraappid), () => {\r\n\t\t\t\t\t\tconsole.log('小程序初始化成功');\r\n\t\t\t\t\t\t//加入通道\r\n\t\t\t\t\t\twechatAgora.join('', agorastream, uid, () => {\r\n\t\t\t\t\t\t\tconsole.log('加入通道成功');\r\n\t\t\t\t\t\t\tthis.zhibo_leave = true;\r\n\t\t\t\t\t\t}, e => {\r\n\t\t\t\t\t\t\tconsole.log('加入通道失败');\r\n\t\t\t\t\t\t\tthis.zhibo_leave = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\te => {\r\n\t\t\t\t\t\tthis.zhibo_leave = true;\r\n\t\t\t\t\t\tconsole.log('小程序初始化失败');\r\n\t\t\t\t\t});\r\n\t\t\t\t//订阅远端流\r\n\t\t\t\twechatAgora.on(\"stream-added\", e => {\r\n\t\t\t\t\twechatAgora.subscribe(e.uid, (res) => {\r\n\t\t\t\t\t\tthis.zhibo_leave = false;\r\n\t\t\t\t\t\tthis.video_zhezhao = true;\r\n\t\t\t\t\t\tconsole.log(\"订阅视频流成功：\" + res);\r\n\t\t\t\t\t\tthis.res_url = res;\r\n\t\t\t\t\t\tif (this.showsmallvideo == true) {\r\n\t\t\t\t\t\t\tthis.wechatliveurl_small = res;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.wechatliveurl = res;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, (err) => {\r\n\t\t\t\t\t\tconsole.log(\"订阅视频流错误\", err);\r\n\t\t\t\t\t\tthis.video_zhezhao = false;\r\n\t\t\t\t\t\tthis.zhibo_leave = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\twechatAgora.on(\"stream-removed\", e => {\r\n\t\t\t\t\tthis.video_zhezhao = false;\r\n\t\t\t\t\tthis.zhibo_leave = true;\r\n\t\t\t\t});\r\n\t\t\t\t//重连机制\r\n\t\t\t\twechatAgora.rejoin('', agorastream, uid, '', () => {\r\n\t\t\t\t\tconsole.log('重连加入通道成功');\r\n\t\t\t\t}, e => {\r\n\t\t\t\t\tconsole.log('重连加入通道失败');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tagoraH5(agoraappid, agorastream) {\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tH5Client = AgoraRTCH5.createClient({\r\n\t\t\t\t\tmode: \"live\",\r\n\t\t\t\t\tcodec: \"vp8\",\r\n\t\t\t\t});\r\n\t\t\t\tAgoraRTCH5.client = H5Client;\r\n\t\t\t\tH5Client.init(_this.decypt(agoraappid));\r\n\t\t\t\tH5Client.setClientRole('audience');\r\n\t\t\t\tH5Client.join(\"\", agorastream, null, (uid) => {\r\n\t\t\t\t\tconsole.log('加入通道成功');\r\n\t\t\t\t\t_this.zhibo_leave = true;\r\n\t\t\t\t}, null);\r\n\t\t\t\tH5Client.on(\"stream-added\", function(evt) {\r\n\t\t\t\t\tH5Client.subscribe(evt.stream, null);\r\n\t\t\t\t\t_this.zhibo_leave = false;\r\n\t\t\t\t});\r\n\t\t\t\tH5Client.on(\"stream-subscribed\", function(evt) {\r\n\t\t\t\t\tconsole.log('获取到视频流');\r\n\t\t\t\t\tlet stream = evt.stream;\r\n\t\t\t\t\tlet streamId = String(stream.getId());\r\n\t\t\t\t\tlet streamview = document.getElementById(\"subremoteContainer\");\r\n\t\t\t\t\tstreamview.id = streamId;\r\n\t\t\t\t\tdocument.getElementById(\"remoteContainer\").appendChild(streamview);\r\n\t\t\t\t\tstream.play(streamId);\r\n\t\t\t\t});\r\n\t\t\t\tH5Client.on(\"stream-removed\", function(evt) {\r\n\t\t\t\t\t//_this.zhibo_leave = true;\r\n\t\t\t\t\t//let stream = evt.stream;\r\n\t\t\t\t\t// let streamId = String(stream.getId());\r\n\t\t\t\t\t//\tstream.close();\r\n\t\t\t\t\t// removeVideoStream(streamId);\r\n\t\t\t\t});\r\n\t\t\t\tH5Client.on(\"peer-leave\", function(evt) {\r\n\t\t\t\t\t_this.zhibo_leave = true;\r\n\t\t\t\t\tlet stream = evt.stream;\r\n\t\t\t\t\tlet streamId = String(stream.getId());\r\n\t\t\t\t\tstream.close();\r\n\t\t\t\t\tremoveVideoStream(streamId);\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t// 进入直播\r\n\t\t\tliveLive(liveuid, courseid, lessonid) {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tlet gData = app.globalData;\r\n\t\t\t\t_this.agorauid = gData.userinfo.id;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: gData.site_url + 'Live.Enter',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t'liveuid': liveuid,\r\n\t\t\t\t\t\t'courseid': courseid,\r\n\t\t\t\t\t\t'lessonid': lessonid,\r\n\t\t\t\t\t\t'token': gData.userinfo.token,\r\n\t\t\t\t\t\t'uid': gData.userinfo.id,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif (res.data.data.code == 700) {\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '../../../pages/login/login',\r\n\t\t\t\t\t\t\t\tsuccess: res => {},\r\n\t\t\t\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (res.data.data.code == 0) {\r\n\t\t\t\t\t\t\tconsole.log(JSON.stringify(res));\r\n\t\t\t\t\t\t\tthis.addNodeListen();\r\n\t\t\t\t\t\t\tthis.pull = this.decypt(res.data.data.info[0].pull);\r\n\t\t\t\t\t\t\tthis.ppts = res.data.data.info[0].ppts || [];\r\n\t\t\t\t\t\t\tif (this.ppts.length == 0) {\r\n\t\t\t\t\t\t\t\tthis.noppt = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.noppt = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (parseInt(res.data.data.info[0].shutup_room) == 1) {\r\n\t\t\t\t\t\t\t\tthis.shut_place = \"全体禁言中\";\r\n\t\t\t\t\t\t\t\tthis.content = \"\"\r\n\t\t\t\t\t\t\t\tthis.isshut = true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.shut_place = \"我来说几句～\";\r\n\t\t\t\t\t\t\t\tthis.content = '';\r\n\t\t\t\t\t\t\t\tthis.isshut = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.pptindex = parseInt(res.data.data.info[0].pptindex);\r\n\t\t\t\t\t\t\tthis.showppt_index = this.pptindex + 1;\r\n\t\t\t\t\t\t\tthis.userInfo.user_type = res.data.data.info[0].user_type;\r\n\t\t\t\t\t\t\tlet isLive = res.data.data.info[0].islive;\r\n\t\t\t\t\t\t\tif (isLive == 0) {\r\n\t\t\t\t\t\t\t\tthis.shownothingVideo = true;\r\n\t\t\t\t\t\t\t\tthis.islive = '未开始';\r\n\t\t\t\t\t\t\t\tthis.diancolor = '#969696';\r\n\t\t\t\t\t\t\t} else if (isLive == 1) {\r\n\t\t\t\t\t\t\t\tthis.shownothingVideo = false;\r\n\t\t\t\t\t\t\t\tthis.islive = '直播中';\r\n\t\t\t\t\t\t\t\tthis.diancolor = '#38DAA6';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.islive = '已结束';\r\n\t\t\t\t\t\t\t\tthis.zhibo_leave = true;\r\n\t\t\t\t\t\t\t\tthis.show_nothing_image = false;\r\n\t\t\t\t\t\t\t\tthis.show_nothing_image2 = true;\r\n\t\t\t\t\t\t\t\tthis.zhibo_leave_text = '直播已结束';\r\n\t\t\t\t\t\t\t\tthis.zhibo_leave_text_w = \"\";\r\n\t\t\t\t\t\t\t\tthis.diancolor = '#969696';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.intr = res.data.data.info[0].intr;\r\n\t\t\t\t\t\t\t//1图文2视频3音频 4ppt直播 5视频直播6音频直播 7授课直播（白板）\r\n\t\t\t\t\t\t\tthis.livetype = res.data.data.info[0].livetype;\r\n\t\t\t\t\t\t\tthis.livemode = parseInt(res.data.data.info[0].livemode);\r\n\t\t\t\t\t\t\tthis.Usercount = parseInt(res.data.data.info[0].nums);\r\n\t\t\t\t\t\t\tthis.agoraappid = res.data.data.info[0].sound_appid;\r\n\t\t\t\t\t\t\tthis.agoramRoomName = res.data.data.info[0].stream;\r\n\t\t\t\t\t\t\tif (this.livetype == 2 || this.livetype == 3 || this.livetype == 6) {\r\n\t\t\t\t\t\t\t\tthis.videoContext = uni.createVideoContext('myVideo');\r\n\t\t\t\t\t\t\t\tthis.buttonimage = '../../static/voice2.png';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.livetype == 5 || this.livetype == 8) {\r\n\t\t\t\t\t\t\t\tif (this.livemode == 0) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('直播模式');\r\n\t\t\t\t\t\t\t\t\tthis.livetype = 5;\r\n\t\t\t\t\t\t\t\t\tthis.fromPPt = false;\r\n\t\t\t\t\t\t\t\t\tthis.fromshare = false;\r\n\t\t\t\t\t\t\t\t\tthis.showsmallvideo = false;\r\n\t\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\t\tthis.showBigScreen = true;\r\n\t\t\t\t\t\t\t\t\tthis.showShareScreen = false;\r\n\t\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t} else if (this.livemode == 1) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('PPt模式');\r\n\t\t\t\t\t\t\t\t\tthis.livetype = 4;\r\n\t\t\t\t\t\t\t\t\tthis.fromPPt = true;\r\n\t\t\t\t\t\t\t\t\tthis.fromshare = false;\r\n\t\t\t\t\t\t\t\t\tthis.showsmallvideo = true;\r\n\t\t\t\t\t\t\t\t\tthis.scrollH -= 75;\r\n\t\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\t\tthis.showBigScreen = false;\r\n\t\t\t\t\t\t\t\t\tthis.showShareScreen = false;\r\n\t\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t} else if (this.livemode == 2) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('屏幕共享模式');\r\n\t\t\t\t\t\t\t\t\tthis.livetype = 8;\r\n\t\t\t\t\t\t\t\t\tthis.fromshare = true;\r\n\t\t\t\t\t\t\t\t\tthis.showsmallvideo = false;\r\n\t\t\t\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\t\t\t\tthis.showShareScreen = true;\r\n\t\t\t\t\t\t\t\t\tthis.showBigScreen = false;\r\n\t\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (this.phonetype == 2) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$refs.videoIos.focus({\r\n\t\t\t\t\t\t\t\t\t\t\t\t'appid': this.agoraappid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t'mRoomName': this.agoramRoomName,\r\n\t\t\t\t\t\t\t\t\t\t\t\t'uid': gData.userinfo.id\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t\t\t} else if (this.phonetype == 1) {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$refs.videoAdnroid.clearTel(\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.agoraappid + '声' + this.agoramRoomName + '网' + gData.userinfo.id\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t\t\t} else if (this.phonetype == 3) {\r\n\t\t\t\t\t\t\t\t\tthis.agoraH5(this.agoraappid, this.agoramRoomName);\r\n\t\t\t\t\t\t\t\t} else if (this.phonetype == 4) {\r\n\t\t\t\t\t\t\t\t\tthis.agoraWechat(this.agoraappid, this.agoramRoomName, gData.userinfo.id)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.data.data.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsendvoice() {\r\n\t\t\t\tif (this.isshut == true) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.isvoice == true) {\r\n\t\t\t\t\tthis.isvoice = false;\r\n\t\t\t\t\tthis.chat_voice = \"../../static/chat_voice@3x.png\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isvoice = true;\r\n\t\t\t\t\tthis.chat_voice = \"../../static/chat_keyboard@3x.png\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsubmitemojy() {\r\n\t\t\t\tif (this.isshut == true) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.showemojy == true) {\r\n\t\t\t\t\tthis.showemojy = false;\r\n\t\t\t\t\tthis.inputbuttom = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.hideKeyboard();\r\n\t\t\t\t\tthis.showemojy = true;\r\n\t\t\t\t\tthis.inputbuttom = 170;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//发送\r\n\t\t\tnew_sendemojy(data) {\r\n\t\t\t\tif (this.isshut == true) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.send();\r\n\t\t\t\tthis.showemojy = false;\r\n\t\t\t\tthis.inputbuttom = 0;\r\n\t\t\t},\r\n\t\t\tsend(event) {\r\n\t\t\t\tif (this.isshut == true) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '全体禁言中',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tuni.hideKeyboard();\r\n\t\t\t\tthis.showemojy = false;\r\n\t\t\t\tif (this.voice_url.length > 1) {} else {\r\n\t\t\t\t\tif (this.content === '') {\r\n\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\ttitle: '消息不能为空',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.tabIndex = 1;\r\n\t\t\t\tlet status = (this.isQue === true) ? \"1\" : \"0\";\r\n\t\t\t\tlet gData = app.globalData;\r\n\t\t\t\t// 签名\r\n\t\t\t\tvar dic = {\r\n\t\t\t\t\t'uid': this.userInfo.id,\r\n\t\t\t\t\t'liveuid': this.liveInfo.liveuid,\r\n\t\t\t\t\t'courseid': this.liveInfo.courseid,\r\n\t\t\t\t\t'lessonid': this.liveInfo.lessonid,\r\n\t\t\t\t\t'type': this.voice_url.length > 1 ? '1' : '0',\r\n\t\t\t\t\t'content': this.content,\r\n\t\t\t\t\t'url': this.voice_url,\r\n\t\t\t\t\t'user_type': this.userInfo.type,\r\n\t\t\t\t};\r\n\t\t\t\tlet sign = this.sort2url(dic);\r\n\t\t\t\t//记录聊天信息\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: gData.site_url + 'Live.SetChat',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t'sign': sign,\r\n\t\t\t\t\t\t'uid': this.userInfo.id,\r\n\t\t\t\t\t\t'token': this.userInfo.token,\r\n\t\t\t\t\t\t'content': this.content,\r\n\t\t\t\t\t\t\"length\": this.voice_length,\r\n\t\t\t\t\t\t'status': status,\r\n\t\t\t\t\t\t'user_type': this.userInfo.type,\r\n\t\t\t\t\t\t'liveuid': this.liveInfo.liveuid,\r\n\t\t\t\t\t\t'courseid': this.liveInfo.courseid,\r\n\t\t\t\t\t\t'lessonid': this.liveInfo.lessonid,\r\n\t\t\t\t\t\t'type': this.voice_url.length > 1 ? '1' : '0',\r\n\t\t\t\t\t\t'url': this.voice_url\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t//\tconsole.log(res);\r\n\t\t\t\t\t\tif (res.data.data.code == 0) {\r\n\t\t\t\t\t\t\t//发送消息\r\n\t\t\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\t\t\t\"msg\": [{\r\n\t\t\t\t\t\t\t\t\t\"_method_\": \"SendMsg\",\r\n\t\t\t\t\t\t\t\t\t\"chatid\": res.data.data.info[0].chatid,\r\n\t\t\t\t\t\t\t\t\t\"action\": \"1\",\r\n\t\t\t\t\t\t\t\t\t\"token\": this.userInfo.token,\r\n\t\t\t\t\t\t\t\t\t\"uid\": this.userInfo.id,\r\n\t\t\t\t\t\t\t\t\t\"user_nickname\": this.userInfo.user_nickname,\r\n\t\t\t\t\t\t\t\t\t\"avatar\": this.userInfo.avatar,\r\n\t\t\t\t\t\t\t\t\t\"liveuid\": this.liveInfo.liveuid,\r\n\t\t\t\t\t\t\t\t\t\"content\": this.content,\r\n\t\t\t\t\t\t\t\t\t\"url\": this.voice_url,\r\n\t\t\t\t\t\t\t\t\t\"length\": this.voice_length,\r\n\t\t\t\t\t\t\t\t\t\"equipment\": \"app\",\r\n\t\t\t\t\t\t\t\t\t\"create_time\": Math.floor((new Date()).getTime().toString() / 1000),\r\n\t\t\t\t\t\t\t\t\t\"msgtype\": 2,\r\n\t\t\t\t\t\t\t\t\t\"status\": status,\r\n\t\t\t\t\t\t\t\t\t\"type\": this.voice_url.length > 1 ? '1' : '0',\r\n\t\t\t\t\t\t\t\t\t\"user_type\": this.userInfo.type,\r\n\t\t\t\t\t\t\t\t\t'lessonid': this.liveInfo.lessonid,\r\n\t\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t\t\"retcode\": \"000000\",\r\n\t\t\t\t\t\t\t\t\"retmsg\": \"OK\"\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tsocket.emit('broadcast', obj);\r\n\t\t\t\t\t\t\tthis.content = '';\r\n\t\t\t\t\t\t\tthis.voice_url = '';\r\n\t\t\t\t\t\t\tthis.voice_length = '';\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.data.data.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '网络错误'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tquestion(isQue) {\r\n\t\t\t\tif (this.isQue == false) {\r\n\t\t\t\t\tthis.isQue = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isQue = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsort2url(arr1) {\r\n\t\t\t\tvar newkey = Object.keys(arr1).sort();\r\n\t\t\t\tvar newObj = {};\r\n\t\t\t\tfor (var i = 0; i < newkey.length; i++) { //遍历newkey数组\r\n\t\t\t\t\tnewObj[newkey[i]] = arr1[newkey[i]]; //向新创建的对象中按照排好的顺序依次增加键值对\r\n\t\t\t\t}\r\n\t\t\t\tvar text = \"\";\r\n\t\t\t\tfor (var index in newObj) {\r\n\t\t\t\t\ttext = text + index + \"=\" + newObj[index] + \"&\";\r\n\t\t\t\t}\r\n\t\t\t\ttext = text.substr(0, text.length - 1);\r\n\t\t\t\ttext += '&' + app.globalData.sign_key;\r\n\r\n\t\t\t\treturn md5_js(text);\r\n\t\t\t},\r\n\t\t\tsetSign(obj) { //排序的函数\r\n\t\t\t\tvar str = '';\r\n\t\t\t\tvar newkey = Object.keys(obj).sort();\r\n\t\t\t\t//先用Object内置类的keys方法获取要排序对象的属性名，再利用Array原型上的sort方法对获取的属性名进行排序，newkey是一个数组\r\n\t\t\t\tvar newObj = {}; //创建一个新的对象，用于存放排好序的键值对\r\n\t\t\t\tfor (var i = 0; i < newkey.length; i++) { //遍历newkey数组\r\n\t\t\t\t\t//newObj[newkey[i]] = obj[newkey[i]];//向新创建的对象中按照排好的顺序依次增加键值对\r\n\t\t\t\t\tstr += newkey[i] + '=' + obj[newkey[i]] + '&';\r\n\t\t\t\t}\r\n\t\t\t\tstr += app.globalData.sign_key;\r\n\t\t\t\tvar sign = md5_js.hex_md5(str);\r\n\t\t\t\treturn sign;\r\n\t\t\t},\r\n\t\t\tpageToBottom() {\r\n\t\t\t\tif (this.list.length == 1){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet lastIndex = this.list.length - 1;\r\n\t\t\t\tif (lastIndex < 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t    that.scrollTop = 999;\r\n\t\t\t\t\tthat.scrollInto = 'chat' + lastIndex;\r\n\t\t\t\t}, 500);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n<style>\r\n\t@import url(\"/static/css/infoplay.css\");\r\n\t@import url(\"../../../common/beisu.css\");\r\n\r\n\t/deep/.uni-scroll-view ::-webkit-scrollbar {\r\n\t\t/* 隐藏滚动条，但依旧具备可以滚动的功能 */\r\n\t\tdisplay: none;\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tcolor: transparent;\r\n\t\tbackground: transparent;\r\n\t}\r\n\r\n\t/deep/::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tcolor: transparent;\r\n\t\tbackground: transparent;\r\n\t}\r\n</style>\r\n","import mod from \"-!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./live-infoplay.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./live-infoplay.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1644994826488\n      var cssReload = require(\"F:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}